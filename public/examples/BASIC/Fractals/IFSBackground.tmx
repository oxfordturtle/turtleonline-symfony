{
  "format":1,
  "language":"BASIC",
  "version":13,
  "name":"Iterated function systems (IFS) background",
  "author":"Peter Millican",
  "date":"23/07/2020",
  "time":"12:00:34",
  "code":"REM IFS_Background\n\nCONST XLEFT% = 0\nCONST XRIGHT% = 999\nCONST YTOP% = 0\nCONST YBOTTOM% = 999\nCONST GRIDSCALE% = 5\nCONST GRIDTHICK% = 64\nCANVAS(XLEFT%, YTOP%, XRIGHT% - XLEFT% + 1, YBOTTOM% - YTOP% + 1)\nRESOLUTION(XRIGHT% - XLEFT% + 1, YBOTTOM% - YTOP% + 1)\nPROCbackground\nEND\n\nDEF PROCbackground\n  LOCAL x%, y%\n  LOCAL cx%, cy%, r%, g%, b%\n  THICKNESS(GRIDTHICK%)\n  COLOUR(DARKGREY)\n  FOR x% = 1 TO GRIDSCALE% - 1\n    SETXY(XLEFT% + DIVMULT(XRIGHT% - XLEFT%, GRIDSCALE%, x%), YTOP%)\n    DRAWXY(0, YBOTTOM% - YTOP%)\n  NEXT\n  FOR y% = 1 TO GRIDSCALE% - 1\n    SETXY(XLEFT% + GRIDTHICK% / 2, YTOP% + DIVMULT(YBOTTOM% - YTOP%, GRIDSCALE%, y%))\n    DRAWXY(XRIGHT% - XLEFT% - GRIDTHICK%, 0)\n  NEXT\n  COLOUR(BLACK)\n  SETXY(XLEFT%, YTOP%)\n  DRAWXY(XRIGHT% - XLEFT%, 0)\n  DRAWXY(0, YBOTTOM% - YTOP%)\n  DRAWXY(XLEFT% - XRIGHT%, 0)\n  DRAWXY(0, YTOP% - YBOTTOM%)\n  FOR x% = 0 TO GRIDSCALE% - 1\n    FOR y% = 0 TO GRIDSCALE% - 1\n      cx% = XLEFT% + DIVMULT(XRIGHT% - XLEFT%, GRIDSCALE%, x%) + GRIDTHICK%\n      cy% = YTOP% + DIVMULT(YBOTTOM% - YTOP%, GRIDSCALE%, y%) + GRIDTHICK%\n      r% = DIVMULT(255, GRIDSCALE% - 1, x%)\n      g% = DIVMULT(255, GRIDSCALE% - 1, y%)\n      b% = DIVMULT(255, 2 * GRIDSCALE% - 2, 2 * GRIDSCALE% - 2 - x% - y%)\n      RECOLOUR(cx%, cy%, (r% * &10000) + (g% * &100) + (b% * &1))\n    NEXT\n  NEXT\nENDPROC",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"DRAWXY", "level":2, "count":6, "lines":"21 25 29 30 31 32"}
      ],
      "total":6
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"SETXY", "level":1, "count":3, "lines":"20 24 28"}
      ],
      "total":3
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"COLOUR", "level":1, "count":2, "lines":"18 27"},
        {"name":"THICKNESS", "level":1, "count":1, "lines":"17"}
      ],
      "total":3
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"CANVAS", "level":2, "count":1, "lines":"9"},
        {"name":"RESOLUTION", "level":2, "count":1, "lines":"10"},
        {"name":"RECOLOUR", "level":3, "count":1, "lines":"40"}
      ],
      "total":3
    },
    {
      "category": "General arithmetic functions",
      "expressions":[
        {"name":"DIVMULT", "level":3, "count":7, "lines":"20 24 35 36 37 38 39"}
      ],
      "total":7
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"FOR", "level":1, "count":4, "lines":"19 23 33 34"},
        {"name":"DEF PROC", "level":2, "count":1, "lines":"14"}
      ],
      "total":5
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"PROCbackground", "level":0, "count":1, "lines":"11"}
      ],
      "total":1
    }
  ],
  "pcode":[
    [112,13,1,1,112,0,123,112,6,2,123,4,112,6,124,112,19,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,42],
    [133,1],
    [139,12,7],
    [117,12,1,112,7,124],
    [112,64,85],
    [112,4210752,87],
    [112,1],
    [120,12,1,112,5,112,1,27],
    [114,12,1,37,129,15],
    [112,0,112,999,112,0,27,112,5,114,12,1,48,26,112,0,88],
    [112,0,112,999,112,0,27,90],
    [114,12,1,4,128,10],
    [112,1],
    [120,12,2,112,5,112,1,27],
    [114,12,2,37,129,21],
    [112,0,112,64,112,2,29,26,112,0,112,999,112,0,27,112,5,114,12,2,48,26,88],
    [112,999,112,0,27,112,64,27,112,0,90],
    [114,12,2,4,128,16],
    [112,0,87],
    [112,0,112,0,88],
    [112,999,112,0,27,112,0,90],
    [112,0,112,999,112,0,27,90],
    [112,0,112,999,27,112,0,90],
    [112,0,112,0,112,999,27,90],
    [112,0],
    [120,12,1,112,5,112,1,27],
    [114,12,1,37,129,41],
    [112,0],
    [120,12,2,112,5,112,1,27],
    [114,12,2,37,129,40],
    [112,0,112,999,112,0,27,112,5,114,12,1,48,26,112,64,26,120,12,3],
    [112,0,112,999,112,0,27,112,5,114,12,2,48,26,112,64,26,120,12,4],
    [112,255,112,5,112,1,27,114,12,1,48,120,12,5],
    [112,255,112,5,112,1,27,114,12,2,48,120,12,6],
    [112,255,112,2,112,5,28,112,2,27,112,2,112,5,28,112,2,27,114,12,1,27,114,12,2,27,48,120,12,7],
    [114,12,3,114,12,4,114,12,5,112,65536,28,114,12,6,112,256,28,26,114,12,7,112,1,28,26,97],
    [114,12,2,4,128,31],
    [114,12,1,4,128,28],
    [140,12,134,132],
    [112,0,112,0,112,999,112,0,27,112,1,26,112,999,112,0,27,112,1,26,144],
    [112,999,112,0,27,112,1,26,112,999,112,0,27,112,1,26,145],
    [131,4],
    [130]
  ]
}
