{
  "format":1,
  "language":"Pascal",
  "version":13,
  "name":"Movement under gravity",
  "author":"Peter Millican",
  "date":"23/07/2020",
  "time":"11:59:03",
  "code":"PROGRAM GravitySteps;\nVAR bounce: integer;\n\n  Procedure steps(s: integer);\n  Var size, count: integer;\n  Begin\n    size := 1000 / s;\n    setxy(0, 1000);\n    thickness(1);\n    for count := 1 to s * 2 do\n      if count mod 2 = 0 then\n        movexy(0, -size)\n      else\n        movexy(size, 0);\n    movexy(0, s * size);\n    movexy(-s * size, 0);\n    colour(blue);\n    polygon(s * 2 + 2)\n  End;\n\n  Procedure throwball(xvel, yvel, gravity, floor: integer);\n  Begin\n    repeat\n      colour(white);\n      blot(25);\n      movexy(xvel, yvel);\n      yvel := yvel + gravity;\n      if turty > floor then\n        turty := floor;\n      colour(red);\n      blot(24);\n      update;\n      pause(10);\n      noupdate\n    until turty = floor\n  End;\n\nBEGIN\n  steps(10);\n  setxy(950, 75);\n  repeat\n    throwball(-2, -22, 1, turty + 100)\n  until turtx < 75;\n  for bounce := 1 to 10 do\n    throwball(0, bounce * 2 - 20, 1, turty)\nEND.",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"movexy", "level":2, "count":5, "lines":"12 14 15 16 26"}
      ],
      "total":5
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"setxy", "level":1, "count":2, "lines":"8 40"}
      ],
      "total":2
    },
    {
      "category": "Turtle: drawing shapes",
      "expressions":[
        {"name":"blot", "level":1, "count":2, "lines":"25 31"},
        {"name":"polygon", "level":2, "count":1, "lines":"18"}
      ],
      "total":3
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"colour", "level":1, "count":3, "lines":"17 24 30"},
        {"name":"thickness", "level":1, "count":1, "lines":"9"}
      ],
      "total":4
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"noupdate", "level":1, "count":1, "lines":"34"},
        {"name":"update", "level":1, "count":1, "lines":"32"}
      ],
      "total":2
    },
    {
      "category": "Input and timing routines",
      "expressions":[
        {"name":"pause", "level":1, "count":1, "lines":"33"}
      ],
      "total":1
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"if", "level":1, "count":2, "lines":"11 28"},
        {"name":"else", "level":1, "count":1, "lines":"13"},
        {"name":"for", "level":1, "count":2, "lines":"10 44"},
        {"name":"repeat", "level":2, "count":2, "lines":"23 41"},
        {"name":"procedure", "level":2, "count":2, "lines":"4 21"}
      ],
      "total":9
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"steps", "level":0, "count":1, "lines":"39"},
        {"name":"throwball", "level":0, "count":2, "lines":"42 45"}
      ],
      "total":3
    }
  ],
  "pcode":[
    [112,14,1,1,112,0,123,112,6,2,123,4,112,7,124,112,21,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,39],
    [133,1],
    [139,12,3],
    [117,12,1,112,3,124,120,12,1],
    [112,1000,114,12,1,29,120,12,2],
    [112,0,112,1000,88],
    [112,1,85],
    [112,1],
    [120,12,3,114,12,1,112,2,28],
    [114,12,3,37,129,18],
    [114,12,3,112,2,31,112,0,32,129,16],
    [112,0,114,12,2,23,89],
    [128,17],
    [114,12,2,112,0,89],
    [114,12,3,4,128,11],
    [112,0,114,12,1,114,12,2,28,89],
    [114,12,1,23,114,12,2,28,112,0,89],
    [112,255,87],
    [114,12,1,112,2,28,112,2,26,106],
    [140,12,134,132],
    [133,2],
    [139,13,4],
    [117,13,1,112,4,124,120,13,4,120,13,3,120,13,2,120,13,1],
    [112,16777215,87],
    [112,25,108],
    [114,13,1,114,13,2,89],
    [114,13,2,114,13,3,26,120,13,2],
    [113,16,114,13,4,35,129,32],
    [114,13,4,119,16],
    [112,16711680,87],
    [112,24,108],
    [112,-1,146],
    [112,10,174],
    [112,0,146],
    [113,16,114,13,4,32,129,26],
    [140,13,134,132],
    [112,10,131,4],
    [112,950,112,75,88],
    [112,2,23,112,22,23,112,1,113,16,112,100,26,131,23],
    [113,15,112,75,34,129,41],
    [112,1],
    [119,21,112,10],
    [113,21,37,129,48],
    [112,0,113,21,112,2,28,112,20,27,112,1,113,16,131,23],
    [113,21,4,128,44],
    [130]
  ]
}
