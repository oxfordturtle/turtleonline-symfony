{
  "format":1,
  "language":"Pascal",
  "version":13,
  "name":"Tower of Hanoi by recursion",
  "author":"Peter Millican",
  "date":"28/07/2020",
  "time":"13:25:10",
  "code":"PROGRAM Hanoi;\nCONST delay=500;\nVAR numdisks: integer;\n    pile: array[1..3] of string;\n    x,y,top: array[1..3] of integer;\n    count: integer;\n    start,finish: integer;\n\n Function getnum(prompt: string): integer;\n Var s: string;\n Begin\n  write(prompt);\n  repeat\n   s:=readln\n  until pos(s[1],'123')>0;\n  result:=ord(s[1])-48\n End;\n\n Procedure setup(startdisk: integer);\n Var d,p: integer;\n Begin\n  x[1]:=250;\n  x[2]:=500;\n  x[3]:=750;\n  y[1]:=800;\n  y[2]:=500;\n  y[3]:=800;\n  for p:=1 to 3 do\n   begin\n    pile[p]:='';\n    top[p]:=y[p]-numdisks*20-40\n   end;\n  for d:=1 to numdisks do\n   pile[startdisk]:=pile[startdisk]+chr(d+48);\n  writeln(pad(' ',' ',-32)+'   PILE 1   PILE 2   PILE 3');\n  writeln('');\n  write(pad('Starting position:',' ',-32));\n  writeln(pad(pile[1],' ',9)+pad(pile[2],' ',9)+pad(pile[3],' ',9));\n  writeln('')\n End;\n\n Procedure draw;\n Var p,i: integer;\n Begin\n  for p:=1 to 3 do\n   begin\n    setxy(x[p],y[p]);\n    for i:=length(pile[p]) downto 1 do\n     begin\n      movexy(0,-20);\n      colour(rgb(ord(pile[p,i])-47));\n      ellblot((ord(pile[p,i])-47)*20,(ord(pile[p,i])-47)*10)\n     end;\n    colour(black);\n    setxy(x[p],top[p]);\n    polyline(2)\n   end\n End;\n\n Procedure movedisk(n,start,finish: integer);\n Begin\n  pile[finish]:=pile[start,1]+pile[finish];\n  pile[start]:=delete(pile[start],1,1);\n  blank(white);\n  draw;\n  inc(count);\n  write(pad(str(count),' ',4)+'. Move disk '+str(n)+' from '+str(start)+' to '+str(finish)+':  ');\n  writeln(pad(pile[1],' ',9)+pad(pile[2],' ',9)+pad(pile[3],' ',9));\n  pause(delay)\n End;\n\n Procedure movepile(n,start,finish: integer);\n Begin\n  if n>0 then\n   begin\n    movepile(n-1,start,6-start-finish);\n    movedisk(n,start,finish);\n    movepile(n-1,6-start-finish,finish)\n   end\n End;\n\nBEGIN\n repeat\n  console(true,cream);\n  writeln('TOWER OF HANOI');\n  writeln('');\n  write('How many disks would you like in the tower? ');\n  numdisks:=val(readln)\n until (numdisks>1);\n start:=getnum('Start pillar (1, 2, or 3)? ');\n finish:=getnum('Finish pillar (1, 2 or 3)? ');\n output(true,cream,false);\n setup(start);\n thickness(10);\n draw;\n pause(1000);\n count:=0;\n movepile(numdisks,start,finish)\nEND.",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"movexy", "level":2, "count":1, "lines":"50"}
      ],
      "total":1
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"setxy", "level":1, "count":2, "lines":"47 55"}
      ],
      "total":2
    },
    {
      "category": "Turtle: drawing shapes",
      "expressions":[
        {"name":"ellblot", "level":1, "count":1, "lines":"52"},
        {"name":"polyline", "level":2, "count":1, "lines":"56"}
      ],
      "total":2
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"colour", "level":1, "count":2, "lines":"51 54"},
        {"name":"thickness", "level":1, "count":1, "lines":"94"},
        {"name":"console", "level":2, "count":1, "lines":"84"},
        {"name":"output", "level":2, "count":1, "lines":"92"},
        {"name":"rgb", "level":3, "count":1, "lines":"51"}
      ],
      "total":6
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"blank", "level":1, "count":1, "lines":"64"}
      ],
      "total":1
    },
    {
      "category": "General arithmetic functions",
      "expressions":[
        {"name":"inc", "level":1, "count":1, "lines":"66"}
      ],
      "total":1
    },
    {
      "category": "String operations",
      "expressions":[
        {"name":"write", "level":1, "count":4, "lines":"12 37 67 87"},
        {"name":"writeln", "level":1, "count":7, "lines":"35 36 38 39 68 85 86"},
        {"name":"length", "level":2, "count":1, "lines":"48"},
        {"name":"delete", "level":3, "count":1, "lines":"63"},
        {"name":"pad", "level":3, "count":9, "lines":"35 37 38 38 38 67 68 68 68"},
        {"name":"pos", "level":3, "count":1, "lines":"15"}
      ],
      "total":23
    },
    {
      "category": "Type conversion routines",
      "expressions":[
        {"name":"str", "level":1, "count":4, "lines":"67 67 67 67"},
        {"name":"val", "level":1, "count":1, "lines":"88"},
        {"name":"chr", "level":3, "count":1, "lines":"34"},
        {"name":"ord", "level":3, "count":4, "lines":"16 51 52 52"}
      ],
      "total":10
    },
    {
      "category": "Input and timing routines",
      "expressions":[
        {"name":"pause", "level":1, "count":2, "lines":"69 96"},
        {"name":"readln", "level":1, "count":2, "lines":"14 88"}
      ],
      "total":4
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"if", "level":1, "count":1, "lines":"74"},
        {"name":"for", "level":1, "count":4, "lines":"28 33 45 48"},
        {"name":"repeat", "level":2, "count":2, "lines":"13 83"},
        {"name":"procedure", "level":2, "count":4, "lines":"19 42 60 72"},
        {"name":"function", "level":3, "count":1, "lines":"9"}
      ],
      "total":12
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"draw", "level":0, "count":2, "lines":"65 95"},
        {"name":"movepile", "level":0, "count":3, "lines":"76 78 98"},
        {"name":"movedisk", "level":0, "count":1, "lines":"77"},
        {"name":"getnum", "level":0, "count":2, "lines":"90 91"},
        {"name":"setup", "level":0, "count":1, "lines":"93"}
      ],
      "total":9
    }
  ],
  "pcode":[
    [112,18,1,1,112,0,123,112,6,2,123,4,112,132,124,112,150,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [116,27,119,26],
    [112,3,119,27,116,32,119,28],
    [112,33,119,31,116,66,119,29],
    [112,33,119,65,116,100,119,30],
    [112,33,119,99],
    [116,134,119,133],
    [112,3,119,134],
    [116,139,119,138],
    [112,3,119,139],
    [116,144,119,143],
    [112,3,119,144],
    [128,89],
    [133,1],
    [139,12,71],
    [117,12,1,112,71,124,117,12,3,1,1,4,120,12,2,112,33,2,123,4,126],
    [117,12,39,120,12,37,112,33,120,12,38],
    [114,12,2,169],
    [114,12,37,164,2,126,142],
    [114,12,37,112,1,112,1,27,2,127,26,4,122,9,118,3,49,50,51,70,112,0,35,142,129,20],
    [114,12,37,112,1,112,1,27,2,127,26,4,122,112,48,27,120,12,1],
    [113,12,119,17,140,12,134,132],
    [133,2],
    [139,13,3],
    [117,13,1,112,3,124,120,13,1],
    [113,133,112,1,112,1,27,2,127,26,4,112,250,2,123],
    [113,133,112,2,112,1,27,2,127,26,4,112,500,2,123],
    [113,133,112,3,112,1,27,2,127,26,4,112,750,2,123],
    [113,138,112,1,112,1,27,2,127,26,4,112,800,2,123],
    [113,138,112,2,112,1,27,2,127,26,4,112,500,2,123],
    [113,138,112,3,112,1,27,2,127,26,4,112,800,2,123],
    [112,1],
    [120,13,3,112,3],
    [114,13,3,37,129,39],
    [113,26,114,13,3,112,1,27,2,127,26,4,122,118,0,2,126,142],
    [113,143,114,13,3,112,1,27,2,127,26,4,113,138,114,13,3,112,1,27,2,127,26,4,122,113,25,112,20,28,27,112,40,27,2,123],
    [114,13,3,4,128,34],
    [112,1],
    [120,13,2,113,25],
    [114,13,2,37,129,44],
    [113,26,114,13,1,112,1,27,2,127,26,4,122,113,26,114,13,1,112,1,27,2,127,26,4,122,114,13,2,112,48,26,9,64,2,126,142],
    [114,13,2,4,128,40],
    [112,32,9,112,32,9,112,32,23,72,118,27,32,32,32,80,73,76,69,32,49,32,32,32,80,73,76,69,32,50,32,32,32,80,73,76,69,32,51,64,169,170,142],
    [118,0,169,170,142],
    [118,18,83,116,97,114,116,105,110,103,32,112,111,115,105,116,105,111,110,58,112,32,9,112,32,23,72,169,142],
    [113,26,112,1,112,1,27,2,127,26,4,122,112,32,9,112,9,72,113,26,112,2,112,1,27,2,127,26,4,122,112,32,9,112,9,72,64,113,26,112,3,112,1,27,2,127,26,4,122,112,32,9,112,9,72,64,169,170,142],
    [118,0,169,170,142],
    [140,13,134,132],
    [133,3],
    [139,14,2],
    [117,14,1,112,2,124],
    [112,1],
    [120,14,1,112,3],
    [114,14,1,37,129,68],
    [113,133,114,14,1,112,1,27,2,127,26,4,122,113,138,114,14,1,112,1,27,2,127,26,4,122,88],
    [113,26,114,14,1,112,1,27,2,127,26,4,122,65],
    [120,14,2,112,1],
    [114,14,2,36,129,64],
    [112,0,112,20,23,89],
    [113,26,114,14,1,112,1,27,2,127,26,4,122,114,14,2,112,1,27,2,127,26,4,122,112,47,27,101,87],
    [113,26,114,14,1,112,1,27,2,127,26,4,122,114,14,2,112,1,27,2,127,26,4,122,112,47,27,112,20,28,113,26,114,14,1,112,1,27,2,127,26,4,122,114,14,2,112,1,27,2,127,26,4,122,112,47,27,112,10,28,110],
    [114,14,2,5,128,58],
    [112,0,87],
    [113,133,114,14,1,112,1,27,2,127,26,4,122,113,143,114,14,1,112,1,27,2,127,26,4,122,88],
    [112,2,105],
    [114,14,1,4,128,54],
    [140,14,134,132],
    [133,4],
    [139,15,3],
    [117,15,1,112,3,124,120,15,3,120,15,2,120,15,1],
    [113,26,114,15,3,112,1,27,2,127,26,4,122,113,26,114,15,2,112,1,27,2,127,26,4,122,112,1,112,1,27,2,127,26,4,122,9,113,26,114,15,3,112,1,27,2,127,26,4,122,64,2,126,142],
    [113,26,114,15,2,112,1,27,2,127,26,4,122,113,26,114,15,2,112,1,27,2,127,26,4,122,112,1,112,1,68,2,126,142],
    [112,16777215,96],
    [131,50],
    [116,148,1,122,4,2,123],
    [113,148,11,112,32,9,112,4,72,118,12,46,32,77,111,118,101,32,100,105,115,107,32,64,114,15,1,11,64,118,6,32,102,114,111,109,32,64,114,15,2,11,64,118,4,32,116,111,32,64,114,15,3,11,64,118,3,58,32,32,64,169,142],
    [113,26,112,1,112,1,27,2,127,26,4,122,112,32,9,112,9,72,113,26,112,2,112,1,27,2,127,26,4,122,112,32,9,112,9,72,64,113,26,112,3,112,1,27,2,127,26,4,122,112,32,9,112,9,72,64,169,170,142],
    [112,500,174],
    [140,15,134,132],
    [133,5],
    [139,16,3],
    [117,16,1,112,3,124,120,16,3,120,16,2,120,16,1],
    [114,16,1,112,0,35,129,88],
    [114,16,1,112,1,27,114,16,2,112,6,114,16,2,27,114,16,3,27,131,81],
    [114,16,1,114,16,2,114,16,3,131,69],
    [114,16,1,112,1,27,112,6,114,16,2,27,114,16,3,27,114,16,3,131,81],
    [140,16,134,132],
    [112,-1,112,16777147,167],
    [118,14,84,79,87,69,82,32,79,70,32,72,65,78,79,73,169,170,142],
    [118,0,169,170,142],
    [118,44,72,111,119,32,109,97,110,121,32,100,105,115,107,115,32,119,111,117,108,100,32,121,111,117,32,108,105,107,101,32,105,110,32,116,104,101,32,116,111,119,101,114,63,32,169,142],
    [164,112,0,13,119,25,142],
    [113,25,112,1,35,129,89],
    [118,27,83,116,97,114,116,32,112,105,108,108,97,114,32,40,49,44,32,50,44,32,111,114,32,51,41,63,32,131,15],
    [114,17,1,119,149,142],
    [118,27,70,105,110,105,115,104,32,112,105,108,108,97,114,32,40,49,44,32,50,32,111,114,32,51,41,63,32,131,15],
    [114,17,1,119,150,142],
    [112,-1,112,16777147,112,0,166],
    [113,149,131,24],
    [112,10,85],
    [131,50],
    [112,1000,174],
    [112,0,119,148],
    [113,25,113,149,113,150,131,81],
    [130]
  ]
}
