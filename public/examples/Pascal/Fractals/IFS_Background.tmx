{
  "format":1,
  "language":"Pascal",
  "version":13,
  "name":"Iterated function systems (IFS) background",
  "author":"Peter Millican",
  "date":"23/07/2020",
  "time":"12:00:01",
  "code":"PROGRAM IFS_Background;\nCONST xleft = 0;\n      xright = 999;\n      ytop = 0;\n      ybottom = 999;\n      gridscale = 5;\n      gridthick = 64;\n\n  Procedure background;\n  Var x, y: integer;\n      cx, cy, r, g, b: integer;\n  Begin\n    thickness(gridthick);\n    colour(darkgrey);\n    for x := 1 to gridscale - 1 do\n      begin\n        setxy(xleft + divmult(xright - xleft, gridscale, x), ytop);\n        drawxy(0, ybottom - ytop)\n      end;\n    for y := 1 to gridscale - 1 do\n      begin\n        setxy(xleft + gridthick / 2, ytop + divmult(ybottom - ytop, gridscale, y));\n        drawxy(xright - xleft - gridthick, 0)\n      end;\n    colour(black);\n    setxy(xleft, ytop);\n    drawxy(xright - xleft, 0);\n    drawxy(0, ybottom - ytop);\n    drawxy(xleft - xright, 0);\n    drawxy(0, ytop - ybottom);\n    for x := 0 to gridscale - 1 do\n      for y := 0 to gridscale - 1 do\n        begin\n          cx := xleft + divmult(xright - xleft, gridscale, x) + gridthick;\n          cy := ytop + divmult(ybottom - ytop, gridscale, y) + gridthick;\n          r := divmult(255, gridscale - 1, x);\n          g := divmult(255, gridscale - 1, y);\n          b := divmult(255, 2 * gridscale - 2, 2 * gridscale - 2 - x - y);\n          recolour(cx, cy, (r * #10000) + (g * #100) + (b * #1))\n        end\n  End;\n\nBEGIN\n  canvas(xleft, ytop, xright - xleft + 1, ybottom - ytop + 1);\n  resolution(xright - xleft + 1, ybottom - ytop + 1);\n  background\nEND.",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"drawxy", "level":2, "count":6, "lines":"18 23 27 28 29 30"}
      ],
      "total":6
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"setxy", "level":1, "count":3, "lines":"17 22 26"}
      ],
      "total":3
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"colour", "level":1, "count":2, "lines":"14 25"},
        {"name":"thickness", "level":1, "count":1, "lines":"13"}
      ],
      "total":3
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"canvas", "level":2, "count":1, "lines":"44"},
        {"name":"resolution", "level":2, "count":1, "lines":"45"},
        {"name":"recolour", "level":3, "count":1, "lines":"39"}
      ],
      "total":3
    },
    {
      "category": "General arithmetic functions",
      "expressions":[
        {"name":"divmult", "level":3, "count":7, "lines":"17 22 34 35 36 37 38"}
      ],
      "total":7
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"for", "level":1, "count":4, "lines":"15 20 31 32"},
        {"name":"procedure", "level":2, "count":1, "lines":"9"}
      ],
      "total":5
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"background", "level":0, "count":1, "lines":"46"}
      ],
      "total":1
    }
  ],
  "pcode":[
    [112,13,1,1,112,0,123,112,6,2,123,4,112,6,124,112,19,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,42],
    [133,1],
    [139,12,7],
    [117,12,1,112,7,124],
    [112,64,85],
    [112,4210752,87],
    [112,1],
    [120,12,1,112,5,112,1,27],
    [114,12,1,37,129,15],
    [112,0,112,999,112,0,27,112,5,114,12,1,48,26,112,0,88],
    [112,0,112,999,112,0,27,90],
    [114,12,1,4,128,10],
    [112,1],
    [120,12,2,112,5,112,1,27],
    [114,12,2,37,129,21],
    [112,0,112,64,112,2,29,26,112,0,112,999,112,0,27,112,5,114,12,2,48,26,88],
    [112,999,112,0,27,112,64,27,112,0,90],
    [114,12,2,4,128,16],
    [112,0,87],
    [112,0,112,0,88],
    [112,999,112,0,27,112,0,90],
    [112,0,112,999,112,0,27,90],
    [112,0,112,999,27,112,0,90],
    [112,0,112,0,112,999,27,90],
    [112,0],
    [120,12,1,112,5,112,1,27],
    [114,12,1,37,129,41],
    [112,0],
    [120,12,2,112,5,112,1,27],
    [114,12,2,37,129,40],
    [112,0,112,999,112,0,27,112,5,114,12,1,48,26,112,64,26,120,12,3],
    [112,0,112,999,112,0,27,112,5,114,12,2,48,26,112,64,26,120,12,4],
    [112,255,112,5,112,1,27,114,12,1,48,120,12,5],
    [112,255,112,5,112,1,27,114,12,2,48,120,12,6],
    [112,255,112,2,112,5,28,112,2,27,112,2,112,5,28,112,2,27,114,12,1,27,114,12,2,27,48,120,12,7],
    [114,12,3,114,12,4,114,12,5,112,65536,28,114,12,6,112,256,28,26,114,12,7,112,1,28,26,97],
    [114,12,2,4,128,31],
    [114,12,1,4,128,28],
    [140,12,134,132],
    [112,0,112,0,112,999,112,0,27,112,1,26,112,999,112,0,27,112,1,26,144],
    [112,999,112,0,27,112,1,26,112,999,112,0,27,112,1,26,145],
    [131,4],
    [130]
  ]
}
