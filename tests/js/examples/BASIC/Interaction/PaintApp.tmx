{
  "format":1,
  "language":"BASIC",
  "version":13,
  "name":"Painting application",
  "author":"Peter Millican",
  "date":"31/08/2020",
  "time":"11:18:31",
  "code":"REM PaintApp\n\nPROCsetup\nREPEAT\n  IF ?LMOUSE > 0 THEN\n    IF ?MOUSEY > 900 THEN\n      PROCsetbrushcolour(PIXCOL(?MOUSEX, ?MOUSEY))\n    ELSE\n      IF (?MOUSEY > 850) AND ((?MOUSEX > 600) AND (?MOUSEX < 850)) THEN\n        PROCsetbrushwidth(((?MOUSEX DIV 50) * 2) - 16)\n      ELSE\n        IF ?MOUSEY < 850 - BrushWidth% THEN PROCpaintbrush(?MOUSEX, ?MOUSEY)\n      ENDIF\n    ENDIF\n  ENDIF\n  IF (?RMOUSE > 0) AND (?MOUSEY < 850) THEN PROCpaintcan(?MOUSEX, ?MOUSEY)\n  UPDATE\nUNTIL FALSE\nEND\n\nDEF PROCsetbrushwidth(wdth%)\n  LOCAL count%\n  BrushWidth% = wdth%\n  NOUPDATE\n  COLOUR(BLACK)\n  FOR count% = 0 TO 4\n    SETXY(625 + count% * 50, 875)\n    BLOT(8 + count% * 2)\n  NEXT\n  COLOUR(BrushColour%)\n  RECOLOUR(((BrushWidth% + 16) * 25) + 25, 875, LIGHTRED)\n  UPDATE\nENDPROC\n\nDEF PROCsetbrushcolour(clr%)\n  BrushColour% = clr%\n  COLOUR(clr%)\n  SETXY(975, 875)\n  BLOT(16)\nENDPROC\n\nDEF PROCpaintbrush(x%, y%)\n  SETXY(x%, y%)\n  BLOT(BrushWidth%)\nENDPROC\n\nDEF PROCpaintcan(x%, y%)\n  RECOLOUR(x%, y%, BrushColour%)\nENDPROC\n\nDEF PROCsquare(col%)\n  MOVEXY(50, 0)\n  MOVEXY(0, 50)\n  MOVEXY(-50, 0)\n  MOVEXY(0, -50)\n  COLOUR(col%)\n  POLYGON(4)\nENDPROC\n\nDEF PROCsetup\n  LOCAL count%\n  COLOUR(LIGHTRED)\n  SETXY(0, 850)\n  DRAWXY(1000, 0)\n  SETXY(0, 900)\n  DRAWXY(1000, 0)\n  SETXY(450, 850)\n  DRAWXY(0, 50)\n  SETXY(850, 850)\n  DRAWXY(0, 50)\n  COLOUR(BLACK)\n  SETXY(10, 858)\n  PRINT(\"Left-click to draw, right-click to fill\", 0, 20)\n  SETXY(450 + 10, 858)\n  PRINT(\"Brush width:\", 0, 20)\n  SETXY(850 + 10, 858)\n  PRINT(\"Colour:\", 0, 20)\n  SETXY(0, 900)\n  FOR count% = 1 TO 20\n    PROCsquare(RGB(count%))\n    MOVEXY(0, 50)\n    PROCsquare(RGB(count% + 30))\n    MOVEXY(50, -50)\n  NEXT\n  PROCsetbrushwidth(8)\n  PROCsetbrushcolour(BLACK)\nENDPROC",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"DRAWXY", "level":2, "count":4, "lines":"64 66 68 70"},
        {"name":"MOVEXY", "level":2, "count":6, "lines":"52 53 54 55 81 83"}
      ],
      "total":10
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"SETXY", "level":1, "count":11, "lines":"27 38 43 63 65 67 69 72 74 76 78"}
      ],
      "total":11
    },
    {
      "category": "Turtle: drawing shapes",
      "expressions":[
        {"name":"BLOT", "level":1, "count":3, "lines":"28 39 44"},
        {"name":"POLYGON", "level":2, "count":1, "lines":"57"}
      ],
      "total":4
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"COLOUR", "level":1, "count":6, "lines":"25 30 37 56 62 71"},
        {"name":"RGB", "level":3, "count":2, "lines":"80 82"}
      ],
      "total":8
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"NOUPDATE", "level":1, "count":1, "lines":"24"},
        {"name":"UPDATE", "level":1, "count":2, "lines":"32 17"},
        {"name":"PIXCOL", "level":3, "count":1, "lines":"7"},
        {"name":"RECOLOUR", "level":3, "count":2, "lines":"31 48"}
      ],
      "total":6
    },
    {
      "category": "String operations",
      "expressions":[
        {"name":"PRINT", "level":1, "count":3, "lines":"73 75 77"}
      ],
      "total":3
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"IF", "level":1, "count":5, "lines":"5 6 9 12 16"},
        {"name":"ELSE", "level":1, "count":2, "lines":"8 11"},
        {"name":"FOR", "level":1, "count":2, "lines":"26 79"},
        {"name":"REPEAT", "level":2, "count":1, "lines":"4"},
        {"name":"DEF PROC", "level":2, "count":6, "lines":"21 35 42 47 51 60"}
      ],
      "total":16
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"PROCsquare", "level":0, "count":2, "lines":"80 82"},
        {"name":"PROCsetbrushwidth", "level":0, "count":2, "lines":"85 10"},
        {"name":"PROCsetbrushcolour", "level":0, "count":2, "lines":"86 7"},
        {"name":"PROCsetup", "level":0, "count":1, "lines":"3"},
        {"name":"PROCpaintbrush", "level":0, "count":1, "lines":"12"},
        {"name":"PROCpaintcan", "level":0, "count":1, "lines":"16"}
      ],
      "total":9
    }
  ],
  "pcode":[
    [112,18,1,1,112,0,123,112,6,2,123,4,112,8,124,112,26,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,79],
    [133,1],
    [139,12,2],
    [120,12,1],
    [114,12,1,119,25],
    [112,0,146],
    [112,0,87],
    [112,0],
    [120,12,2,112,4],
    [114,12,2,37,129,16],
    [112,625,114,12,2,112,50,28,26,112,875,88],
    [112,8,114,12,2,112,2,28,26,108],
    [114,12,2,4,128,11],
    [113,26,87],
    [113,25,112,16,26,112,25,28,112,25,26,112,875,112,13458524,97],
    [112,-1,146],
    [140,12,134,132],
    [133,2],
    [139,13,1],
    [120,13,1],
    [114,13,1,119,26],
    [114,13,1,87],
    [112,975,112,875,88],
    [112,16,108],
    [140,13,134,132],
    [133,3],
    [139,14,2],
    [120,14,2,120,14,1],
    [114,14,1,114,14,2,88],
    [113,25,108],
    [140,14,134,132],
    [133,4],
    [139,15,2],
    [120,15,2,120,15,1],
    [114,15,1,114,15,2,113,26,97],
    [140,15,134,132],
    [133,5],
    [139,16,1],
    [120,16,1],
    [112,50,112,0,89],
    [112,0,112,50,89],
    [112,50,23,112,0,89],
    [112,0,112,50,23,89],
    [114,16,1,87],
    [112,4,106],
    [140,16,134,132],
    [133,6],
    [139,17,1],
    [112,13458524,87],
    [112,0,112,850,88],
    [112,1000,112,0,90],
    [112,0,112,900,88],
    [112,1000,112,0,90],
    [112,450,112,850,88],
    [112,0,112,50,90],
    [112,850,112,850,88],
    [112,0,112,50,90],
    [112,0,87],
    [112,10,112,858,88],
    [118,39,76,101,102,116,45,99,108,105,99,107,32,116,111,32,100,114,97,119,44,32,114,105,103,104,116,45,99,108,105,99,107,32,116,111,32,102,105,108,108,112,0,112,20,168,142],
    [112,450,112,10,26,112,858,88],
    [118,12,66,114,117,115,104,32,119,105,100,116,104,58,112,0,112,20,168,142],
    [112,850,112,10,26,112,858,88],
    [118,7,67,111,108,111,117,114,58,112,0,112,20,168,142],
    [112,0,112,900,88],
    [112,1],
    [120,17,1,112,20],
    [114,17,1,37,129,76],
    [114,17,1,101,131,39],
    [112,0,112,50,89],
    [114,17,1,112,30,26,101,131,39],
    [112,50,112,50,23,89],
    [114,17,1,4,128,69],
    [112,8,131,4],
    [112,0,131,20],
    [140,17,134,132],
    [131,49],
    [112,-1,160,112,0,35,129,89],
    [112,-8,160,112,900,35,129,84],
    [112,-7,160,112,-8,160,99,131,20],
    [128,89],
    [112,-8,160,112,850,35,112,-7,160,112,600,35,112,-7,160,112,850,34,17,17,129,87],
    [112,-7,160,112,50,30,112,2,28,112,16,27,131,4],
    [128,89],
    [112,-8,160,112,850,113,25,27,34,129,89],
    [112,-7,160,112,-8,160,131,28],
    [112,-2,160,112,0,35,112,-8,160,112,850,34,17,129,91],
    [112,-7,160,112,-8,160,131,34],
    [112,-1,146],
    [112,0,129,80],
    [130]
  ]
}
