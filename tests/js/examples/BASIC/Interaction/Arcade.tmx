{
  "format":1,
  "language":"BASIC",
  "version":13,
  "name":"Arcade shooting game",
  "author":"Peter Millican",
  "date":"31/08/2020",
  "time":"11:18:31",
  "code":"REM Arcade\n\nCONST TARGETS% = 10\nFaceX% = -100\nFaceY% = 625\nfacexspeed% = 5\nfaceyspeed% = 0\nhits% = 0\nCURSOR(0)\nWHILE hits% < TARGETS%\n  NOUPDATE\n  PROCbackground\n  SETXY(FaceX%, FaceY%)\n  PROCface\n  FOR i% = 1 TO hits%\n    PROCbottle(50 * i% - 35, 740)\n  NEXT\n  COLOUR(BROWN)\n  THICKNESS(272)\n  SETXY(0, 863)\n  DRAWXY(1000, 0)\n  PROCgunsight\n  THICKNESS(2)\n  UPDATE\n  FaceX% = FaceX% + facexspeed%\n  FaceY% = FaceY% + faceyspeed%\n  IF FaceX% > 1100 THEN FaceX% = -100\n  IF FaceX% < -100 THEN FaceX% = 1100\n  IF (FaceY% < 100) OR (FaceY% > 625) THEN faceyspeed% = faceyspeed% * -1\n  IF ((?LMOUSE > 0) AND (((?MOUSEX - FaceX%) * (?MOUSEX - FaceX%)) + ((?MOUSEY - FaceY%) * (?MOUSEY - FaceY%)) < 10000)) THEN\n    FaceX% = -100\n    facexspeed% = RND(5) + 1\n    faceyspeed% = RND(9) - 5\n    FaceY% = RND(550) + 49\n    INC(hits%)\n  ENDIF\nENDWHILE\nBLANK(BLACK)\nSETXY(200, 450)\nCOLOUR(GREEN)\nPRINT(\"  Well done!  \", 4, 75)\nEND\n\nDEF PROCbottle(x%, y%)\n  SETXY(x%, y%)\n  COLOUR(CYAN)\n  MOVEXY(0, -15)\n  THICKNESS(40)\n  DRAWXY(0, -50)\n  THICKNESS(10)\n  DRAWXY(0, -40)\n  THICKNESS(2)\n  MOVEXY(-20, 90)\n  MOVEXY(40, 0)\n  MOVEXY(0, -20)\n  MOVEXY(-40, 0)\n  COLOUR(PURPLE)\n  POLYGON(4)\n  MOVEXY(20, 35)\nENDPROC\n\nDEF PROCaddhat\n  SETXY(FaceX%, FaceY% - 80)\n  COLOUR(DARKGREY)\n  ELLBLOT(90, 30)\n  THICKNESS(2)\n  COLOUR(BLACK)\n  ELLIPSE(90, 30)\n  MOVEXY(-70, 0)\n  THICKNESS(4)\n  DRAWXY(35, -70)\n  DRAWXY(70, 0)\n  DRAWXY(35, 70)\n  COLOUR(DARKGREY)\n  THICKNESS(1)\n  POLYGON(4)\nENDPROC\n\nDEF PROCface\n  THICKNESS(1)\n  COLOUR(&FF8899)\n  BLOT(100)\n  COLOUR(WHITE)\n  SETXY(FaceX% - 20, FaceY% - 20)\n  BLOT(10)\n  COLOUR(BLACK)\n  BLOT(4)\n  THICKNESS(4)\n  MOVEXY(0, -22)\n  COLOUR(&663300)\n  DRAWXY(15, 15)\n  THICKNESS(1)\n  COLOUR(WHITE)\n  SETXY(FaceX% + 20, FaceY% - 20)\n  BLOT(10)\n  COLOUR(BLACK)\n  BLOT(4)\n  THICKNESS(4)\n  MOVEXY(0, -22)\n  COLOUR(&663300)\n  DRAWXY(-15, 15)\n  PROCaddhat\n  SETXY(FaceX%, FaceY% + 13)\n  COLOUR(RED)\n  BLOT(10)\n  MOVEXY(0, 32)\n  ELLBLOT(30, 6)\n  COLOUR(WHITE)\n  ELLBLOT(20, 4)\nENDPROC\n\nDEF PROCbackground\n  BLANK(COFFEE)\n  PROCbottle(100, 500)\n  PROCbottle(200, 500)\n  PROCbottle(450, 500)\n  PROCbottle(500, 500)\n  PROCbottle(565, 500)\n  PROCbottle(865, 500)\n  COLOUR(DARKBROWN)\n  THICKNESS(20)\n  SETXY(0, 125)\n  DRAWXY(1000, 0)\n  SETXY(0, 325)\n  DRAWXY(1000, 0)\n  SETXY(0, 525)\n  DRAWXY(1000, 0)\n  COLOUR(BROWN)\n  THICKNESS(30)\n  SETXY(0, 100)\n  DRAWXY(1000, 0)\n  SETXY(0, 300)\n  DRAWXY(1000, 0)\n  SETXY(0, 500)\n  DRAWXY(1000, 0)\nENDPROC\n\nDEF PROCgunsight\n  COLOUR(BLACK)\n  THICKNESS(6)\n  SETXY(?MOUSEX - 50, ?MOUSEY)\n  DRAWXY(100, 0)\n  SETXY(?MOUSEX, ?MOUSEY - 50)\n  DRAWXY(0, 100)\nENDPROC",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"DRAWXY", "level":2, "count":16, "lines":"49 51 71 72 73 91 101 123 125 127 131 133 135 142 144 21"},
        {"name":"MOVEXY", "level":2, "count":10, "lines":"47 53 54 55 56 59 69 89 99 106"}
      ],
      "total":26
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"SETXY", "level":1, "count":16, "lines":"45 63 84 94 103 122 124 126 130 132 134 141 143 13 20 39"}
      ],
      "total":16
    },
    {
      "category": "Turtle: drawing shapes",
      "expressions":[
        {"name":"BLOT", "level":1, "count":6, "lines":"82 85 87 95 97 105"},
        {"name":"ELLBLOT", "level":1, "count":3, "lines":"65 107 109"},
        {"name":"ELLIPSE", "level":1, "count":1, "lines":"68"},
        {"name":"POLYGON", "level":2, "count":2, "lines":"58 76"}
      ],
      "total":12
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"COLOUR", "level":1, "count":19, "lines":"46 57 64 67 74 81 83 86 90 93 96 100 104 108 120 128 139 18 40"},
        {"name":"THICKNESS", "level":1, "count":15, "lines":"48 50 52 66 70 75 80 88 92 98 121 129 140 19 23"}
      ],
      "total":34
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"BLANK", "level":1, "count":2, "lines":"113 38"},
        {"name":"NOUPDATE", "level":1, "count":1, "lines":"11"},
        {"name":"UPDATE", "level":1, "count":1, "lines":"24"}
      ],
      "total":4
    },
    {
      "category": "General arithmetic functions",
      "expressions":[
        {"name":"INC", "level":1, "count":1, "lines":"35"},
        {"name":"RND", "level":2, "count":3, "lines":"32 33 34"}
      ],
      "total":4
    },
    {
      "category": "String operations",
      "expressions":[
        {"name":"PRINT", "level":1, "count":1, "lines":"41"}
      ],
      "total":1
    },
    {
      "category": "Input and timing routines",
      "expressions":[
        {"name":"CURSOR", "level":2, "count":1, "lines":"9"}
      ],
      "total":1
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"IF", "level":1, "count":4, "lines":"27 28 29 30"},
        {"name":"FOR", "level":1, "count":1, "lines":"15"},
        {"name":"WHILE", "level":2, "count":1, "lines":"10"},
        {"name":"DEF PROC", "level":2, "count":5, "lines":"44 62 79 112 138"}
      ],
      "total":11
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"PROCaddhat", "level":0, "count":1, "lines":"102"},
        {"name":"PROCbottle", "level":0, "count":7, "lines":"114 115 116 117 118 119 16"},
        {"name":"PROCbackground", "level":0, "count":1, "lines":"12"},
        {"name":"PROCface", "level":0, "count":1, "lines":"14"},
        {"name":"PROCgunsight", "level":0, "count":1, "lines":"22"}
      ],
      "total":11
    }
  ],
  "pcode":[
    [112,17,1,1,112,0,123,112,6,2,123,4,112,12,124,112,29,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,104],
    [133,1],
    [139,12,2],
    [120,12,2,120,12,1],
    [114,12,1,114,12,2,88],
    [112,65535,87],
    [112,0,112,15,23,89],
    [112,40,85],
    [112,0,112,50,23,90],
    [112,10,85],
    [112,0,112,40,23,90],
    [112,2,85],
    [112,20,23,112,90,89],
    [112,40,112,0,89],
    [112,0,112,20,23,89],
    [112,40,23,112,0,89],
    [112,8388736,87],
    [112,4,106],
    [112,20,112,35,89],
    [140,12,134,132],
    [133,2],
    [113,24,113,25,112,80,27,88],
    [112,4210752,87],
    [112,90,112,30,110],
    [112,2,85],
    [112,0,87],
    [112,90,112,30,109],
    [112,70,23,112,0,89],
    [112,4,85],
    [112,35,112,70,23,90],
    [112,70,112,0,90],
    [112,35,112,70,90],
    [112,4210752,87],
    [112,1,85],
    [112,4,106],
    [134,132],
    [133,3],
    [112,1,85],
    [112,16746649,87],
    [112,100,108],
    [112,16777215,87],
    [113,24,112,20,27,113,25,112,20,27,88],
    [112,10,108],
    [112,0,87],
    [112,4,108],
    [112,4,85],
    [112,0,112,22,23,89],
    [112,6697728,87],
    [112,15,112,15,90],
    [112,1,85],
    [112,16777215,87],
    [113,24,112,20,26,113,25,112,20,27,88],
    [112,10,108],
    [112,0,87],
    [112,4,108],
    [112,4,85],
    [112,0,112,22,23,89],
    [112,6697728,87],
    [112,15,23,112,15,90],
    [131,23],
    [113,24,113,25,112,13,26,88],
    [112,16711680,87],
    [112,10,108],
    [112,0,112,32,89],
    [112,30,112,6,110],
    [112,16777215,87],
    [112,20,112,4,110],
    [134,132],
    [133,4],
    [112,9596735,96],
    [112,100,112,500,131,4],
    [112,200,112,500,131,4],
    [112,450,112,500,131,4],
    [112,500,112,500,131,4],
    [112,565,112,500,131,4],
    [112,865,112,500,131,4],
    [112,6045747,87],
    [112,20,85],
    [112,0,112,125,88],
    [112,1000,112,0,90],
    [112,0,112,325,88],
    [112,1000,112,0,90],
    [112,0,112,525,88],
    [112,1000,112,0,90],
    [112,9849600,87],
    [112,30,85],
    [112,0,112,100,88],
    [112,1000,112,0,90],
    [112,0,112,300,88],
    [112,1000,112,0,90],
    [112,0,112,500,88],
    [112,1000,112,0,90],
    [134,132],
    [133,5],
    [112,0,87],
    [112,6,85],
    [112,-7,160,112,50,27,112,-8,160,88],
    [112,100,112,0,90],
    [112,-7,160,112,-8,160,112,50,27,88],
    [112,0,112,100,90],
    [134,132],
    [112,100,23,119,24],
    [112,625,119,25],
    [112,5,119,26],
    [112,0,119,27],
    [112,0,119,28],
    [112,0,171],
    [113,28,112,10,34,129,142],
    [112,0,146],
    [131,71],
    [113,24,113,25,88],
    [131,39],
    [112,1],
    [119,29,113,28],
    [113,29,37,129,120],
    [112,50,113,29,28,112,35,27,112,740,131,4],
    [113,29,4,128,116],
    [112,9849600,87],
    [112,272,85],
    [112,0,112,863,88],
    [112,1000,112,0,90],
    [131,96],
    [112,2,85],
    [112,-1,146],
    [113,24,113,26,26,119,24],
    [113,25,113,27,26,119,25],
    [113,24,112,1100,35,129,131],
    [112,100,23,119,24],
    [113,24,112,100,23,34,129,133],
    [112,1100,119,24],
    [113,25,112,100,34,113,25,112,625,35,18,129,135],
    [113,27,112,1,23,28,119,27],
    [112,-1,160,112,0,35,112,-7,160,113,24,27,112,-7,160,113,24,27,28,112,-8,160,113,25,27,112,-8,160,113,25,27,28,26,112,10000,34,17,129,141],
    [112,100,23,119,24],
    [112,5,7,4,112,1,26,119,26],
    [112,9,7,4,112,5,27,119,27],
    [112,550,7,4,112,49,26,119,25],
    [116,28,1,122,4,2,123],
    [128,110],
    [112,0,96],
    [112,200,112,450,88],
    [112,2263842,87],
    [118,14,32,32,87,101,108,108,32,100,111,110,101,33,32,32,112,4,112,75,168,142],
    [130]
  ]
}
