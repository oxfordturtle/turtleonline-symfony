{
  "format":1,
  "language":"BASIC",
  "version":13,
  "name":"Directory commands",
  "author":"Peter Millican",
  "date":"31/08/2020",
  "time":"11:18:34",
  "code":"REM DirectoryCommands\n\nCONST subdir$ = \"testsubdir\"\nCONST enquire% = 0\nCONST delete% = 1\nCONST create% = 2\nCONST recreate% = 3\nCONST tnotify% = 4\nCONST fnotify% = 16\nCONST tonentry% = 64\nCONST tonexit% = 128\nCONST todo% = create%\nOUTPUT(TRUE, CREAM, TRUE)\ncode% = todo% + tnotify% + fnotify%\nWRITELN(\"code% on entry = $\" + HEX$(code%, 2))\ncode% = CHECKDIR(subdir$, code%)\nWRITELN(\"code% on exit = $\" + HEX$(code%, 2))\nIF (code% AND tonentry%) > 0 THEN\n  WRITELN(\"Subdirectory existed on entry\")\nELSE\n  WRITELN(\"No subdirectory on entry\")\nENDIF\nIF (code% AND tonexit%) > 0 THEN\n  WRITELN(\"Subdirectory existed on exit\")\nELSE\n  WRITELN(\"No subdirectory on exit\")\nENDIF\nWRITELN(\"\")\nPROCshowresult(MKDIR(subdir$), \"mkdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nPROCshowresult(MKDIR(subdir$), \"mkdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nPROCshowresult(RMDIR(subdir$), \"rmdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nPROCshowresult(RMDIR(subdir$), \"rmdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nPROCshowresult(MKDIR(subdir$), \"mkdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nPROCshowresult(MKDIR(subdir$), \"mkdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nIF CHECKFILE(subdir$ + \"\\A_File.txt\", 2) > 127 THEN\n  WRITELN(\"File has been created\")\nELSE\n  WRITELN(\"File could not be created\")\nENDIF\nPROCshowresult(RMDIR(subdir$), \"rmdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nWRITELN(\"\")\nIF CHECKFILE(subdir$ + \"\\A_File.txt\", 1) < 128 THEN\n  WRITELN(\"File has been deleted\")\nELSE\n  WRITELN(\"File could not be deleted\")\nENDIF\nPROCshowresult(RMDIR(subdir$), \"rmdir(\" + subdir$ + \")\")\nPROCshowresult(DIREXISTS(subdir$), \"direxists(\" + subdir$ + \")\")\nEND\n\nDEF PROCshowresult(b%, n$)\n  IF b% THEN\n    WRITELN(UCASE$(n$) + \" returns TRUE\")\n  ELSE\n    WRITELN(UCASE$(n$) + \" returns FALSE\")\n  ENDIF\nENDPROC",
  "usage":[
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"OUTPUT", "level":2, "count":1, "lines":"13"}
      ],
      "total":1
    },
    {
      "category": "String operations",
      "expressions":[
        {"name":"WRITELN", "level":1, "count":20, "lines":"66 68 15 17 19 21 24 26 28 31 34 37 40 43 46 48 50 54 56 58"},
        {"name":"UCASE$", "level":2, "count":2, "lines":"66 68"}
      ],
      "total":22
    },
    {
      "category": "Type conversion routines",
      "expressions":[
        {"name":"HEX$", "level":3, "count":2, "lines":"15 17"}
      ],
      "total":2
    },
    {
      "category": "File processing",
      "expressions":[
        {"name":"MKDIR", "level":2, "count":4, "lines":"29 32 41 44"},
        {"name":"RMDIR", "level":2, "count":4, "lines":"35 38 52 60"},
        {"name":"CHECKDIR", "level":3, "count":1, "lines":"16"},
        {"name":"CHECKFILE", "level":3, "count":2, "lines":"47 55"},
        {"name":"DIREXISTS", "level":3, "count":8, "lines":"30 33 36 39 42 45 53 61"}
      ],
      "total":19
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"IF", "level":1, "count":5, "lines":"65 18 23 47 55"},
        {"name":"ELSE", "level":1, "count":5, "lines":"67 20 25 49 57"},
        {"name":"DEF PROC", "level":2, "count":1, "lines":"64"}
      ],
      "total":11
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"PROCshowresult", "level":0, "count":16, "lines":"29 30 32 33 35 36 38 39 41 42 44 45 52 53 60 61"}
      ],
      "total":16
    }
  ],
  "pcode":[
    [112,13,1,1,112,0,123,112,6,2,123,4,112,7,124,112,20,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,12],
    [133,1],
    [139,12,36],
    [117,12,3,1,1,4,120,12,2,112,33,2,123,4,126,120,12,1],
    [114,12,1,129,10],
    [114,12,2,112,2,66,118,13,32,114,101,116,117,114,110,115,32,84,82,85,69,64,169,170,142],
    [128,11],
    [114,12,2,112,2,66,118,14,32,114,101,116,117,114,110,115,32,70,65,76,83,69,64,169,170,142],
    [140,12,134,132],
    [112,-1,112,16777147,112,-1,166],
    [112,2,112,4,26,112,16,26,119,20],
    [118,18,99,111,100,101,37,32,111,110,32,101,110,116,114,121,32,61,32,36,113,20,112,2,12,64,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,113,20,178,119,20,142],
    [118,17,99,111,100,101,37,32,111,110,32,101,120,105,116,32,61,32,36,113,20,112,2,12,64,169,170,142],
    [113,20,112,64,17,112,0,35,129,20],
    [118,29,83,117,98,100,105,114,101,99,116,111,114,121,32,101,120,105,115,116,101,100,32,111,110,32,101,110,116,114,121,169,170,142],
    [128,21],
    [118,24,78,111,32,115,117,98,100,105,114,101,99,116,111,114,121,32,111,110,32,101,110,116,114,121,169,170,142],
    [113,20,112,128,17,112,0,35,129,24],
    [118,28,83,117,98,100,105,114,101,99,116,111,114,121,32,101,120,105,115,116,101,100,32,111,110,32,101,120,105,116,169,170,142],
    [128,25],
    [118,23,78,111,32,115,117,98,100,105,114,101,99,116,111,114,121,32,111,110,32,101,120,105,116,169,170,142],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,2,178,112,127,35,118,6,109,107,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,2,178,112,127,35,118,6,109,107,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,1,178,112,128,34,118,6,114,109,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,1,178,112,128,34,118,6,114,109,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,2,178,112,127,35,118,6,109,107,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,2,178,112,127,35,118,6,109,107,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,118,11,92,65,95,70,105,108,101,46,116,120,116,64,112,2,177,112,127,35,142,129,47],
    [118,21,70,105,108,101,32,104,97,115,32,98,101,101,110,32,99,114,101,97,116,101,100,169,170,142],
    [128,48],
    [118,25,70,105,108,101,32,99,111,117,108,100,32,110,111,116,32,98,101,32,99,114,101,97,116,101,100,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,1,178,112,128,34,118,6,114,109,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,0,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,118,11,92,65,95,70,105,108,101,46,116,120,116,64,112,1,177,112,128,34,142,129,54],
    [118,21,70,105,108,101,32,104,97,115,32,98,101,101,110,32,100,101,108,101,116,101,100,169,170,142],
    [128,55],
    [118,25,70,105,108,101,32,99,111,117,108,100,32,110,111,116,32,98,101,32,100,101,108,101,116,101,100,169,170,142],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,1,178,112,128,34,118,6,114,109,100,105,114,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [118,10,116,101,115,116,115,117,98,100,105,114,112,0,178,112,127,35,118,10,100,105,114,101,120,105,115,116,115,40,118,10,116,101,115,116,115,117,98,100,105,114,64,118,1,41,64,142,131,4],
    [130]
  ]
}
