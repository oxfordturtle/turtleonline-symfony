{
  "format":1,
  "language":"Pascal",
  "version":13,
  "name":"Arcade shooting game",
  "author":"Peter Millican",
  "date":"31/08/2020",
  "time":"11:16:45",
  "code":"PROGRAM Arcade;\nCONST targets = 10;\nVAR facex, facey: integer;\n    facexspeed, faceyspeed: integer;\n    hits, i: integer;\n\n  Procedure bottle(x, y: integer);\n  Begin\n    setxy(x, y);\n    colour(cyan);\n    movexy(0, -15);\n    thickness(40);\n    drawxy(0, -50);\n    thickness(10);\n    drawxy(0, -40);\n    thickness(2);\n    movexy(-20, 90);\n    movexy(40, 0);\n    movexy(0, -20);\n    movexy(-40, 0);\n    colour(purple);\n    polygon(4);\n    movexy(20, 35)\n  End;\n\n  Procedure addhat;\n  Begin\n    setxy(facex, facey - 80);\n    colour(darkgrey);\n    ellblot(90, 30);\n    thickness(2);\n    colour(black);\n    ellipse(90, 30);\n    movexy(-70, 0);\n    thickness(4);\n    drawxy(35, -70);\n    drawxy(70, 0);\n    drawxy(35, 70);\n    colour(darkgrey);\n    thickness(1);\n    polygon(4)\n  End;\n\n  Procedure face;\n  Begin\n    thickness(1);\n    colour(#FF8899);\n    blot(100);\n    colour(white);\n    setxy(facex - 20, facey - 20);\n    blot(10);\n    colour(black);\n    blot(4);\n    thickness(4);\n    movexy(0, -22);\n    colour(#663300);\n    drawxy(15, 15);\n    thickness(1);\n    colour(white);\n    setxy(facex + 20, facey - 20);\n    blot(10);\n    colour(black);\n    blot(4);\n    thickness(4);\n    movexy(0, -22);\n    colour(#663300);\n    drawxy(-15, 15);\n    addhat;\n    setxy(facex, facey + 13);\n    colour(red);\n    blot(10);\n    movexy(0, 32);\n    ellblot(30, 6);\n    colour(white);\n    ellblot(20, 4)\n  End;\n\n  Procedure background;\n  Begin\n    blank(coffee);\n    bottle(100, 500);\n    bottle(200, 500);\n    bottle(450, 500);\n    bottle(500, 500);\n    bottle(565, 500);\n    bottle(865, 500);\n    colour(darkbrown);\n    thickness(20);\n    setxy(0, 125);\n    drawxy(1000, 0);\n    setxy(0, 325);\n    drawxy(1000, 0);\n    setxy(0, 525);\n    drawxy(1000, 0);\n    colour(brown);\n    thickness(30);\n    setxy(0, 100);\n    drawxy(1000, 0);\n    setxy(0, 300);\n    drawxy(1000, 0);\n    setxy(0, 500);\n    drawxy(1000, 0)\n  End;\n\n  Procedure gunsight;\n  Begin\n    colour(black);\n    thickness(6);\n    setxy(?mousex - 50, ?mousey);\n    drawxy(100, 0);\n    setxy(?mousex, ?mousey - 50);\n    drawxy(0, 100)\n  End;\n\nBEGIN\n  facex := -100;\n  facey := 625;\n  facexspeed := 5;\n  faceyspeed := 0;\n  hits := 0;\n  cursor(0);\n  while hits < targets do\n    begin\n      noupdate;\n      background;\n      setxy(facex, facey);\n      face;\n      for i := 1 to hits do\n        bottle(50 * i - 35, 740);\n      colour(brown);\n      thickness(272);\n      setxy(0, 863);\n      drawxy(1000, 0);\n      gunsight;\n      thickness(2);\n      update;\n      facex := facex + facexspeed;\n      facey := facey + faceyspeed;\n      if facex > 1100 then\n        facex := -100;\n      if facex < -100 then\n        facex := 1100;\n      if (facey < 100) or (facey > 625) then\n        faceyspeed := faceyspeed * -1;\n      if ((?lmouse > 0) and (((?mousex - facex) * (?mousex - facex)) + ((?mousey - facey) * (?mousey\n     - facey)) < 10000)) then\n        begin\n          facex := -100;\n          facexspeed := random(5) + 2;\n          faceyspeed := random(9) - 4;\n          facey := random(550) + 50;\n          inc(hits)\n        end\n    end;\n  blank(black);\n  setxy(200, 450);\n  colour(green);\n  print('  Well done!  ', 4, 75)\nEND.",
  "usage":[
    {
      "category": "Turtle: relative movement",
      "expressions":[
        {"name":"drawxy", "level":2, "count":16, "lines":"13 15 36 37 38 57 67 90 92 94 98 100 102 110 112 133"},
        {"name":"movexy", "level":2, "count":10, "lines":"11 17 18 19 20 23 34 55 65 72"}
      ],
      "total":26
    },
    {
      "category": "Turtle: absolute movement",
      "expressions":[
        {"name":"setxy", "level":1, "count":16, "lines":"9 28 50 60 69 89 91 93 97 99 101 109 111 126 132 156"}
      ],
      "total":16
    },
    {
      "category": "Turtle: drawing shapes",
      "expressions":[
        {"name":"blot", "level":1, "count":6, "lines":"48 51 53 61 63 71"},
        {"name":"ellblot", "level":1, "count":3, "lines":"30 73 75"},
        {"name":"ellipse", "level":1, "count":1, "lines":"33"},
        {"name":"polygon", "level":2, "count":2, "lines":"22 41"}
      ],
      "total":12
    },
    {
      "category": "Other Turtle commands",
      "expressions":[
        {"name":"colour", "level":1, "count":19, "lines":"10 21 29 32 39 47 49 52 56 59 62 66 70 74 87 95 107 130 157"},
        {"name":"thickness", "level":1, "count":15, "lines":"12 14 16 31 35 40 46 54 58 64 88 96 108 131 135"}
      ],
      "total":34
    },
    {
      "category": "Canvas operations",
      "expressions":[
        {"name":"blank", "level":1, "count":2, "lines":"80 155"},
        {"name":"noupdate", "level":1, "count":1, "lines":"124"},
        {"name":"update", "level":1, "count":1, "lines":"136"}
      ],
      "total":4
    },
    {
      "category": "General arithmetic functions",
      "expressions":[
        {"name":"inc", "level":1, "count":1, "lines":"152"},
        {"name":"random", "level":2, "count":3, "lines":"149 150 151"}
      ],
      "total":4
    },
    {
      "category": "String operations",
      "expressions":[
        {"name":"print", "level":1, "count":1, "lines":"158"}
      ],
      "total":1
    },
    {
      "category": "Input and timing routines",
      "expressions":[
        {"name":"cursor", "level":2, "count":1, "lines":"121"}
      ],
      "total":1
    },
    {
      "category": "Command structures",
      "expressions":[
        {"name":"if", "level":1, "count":4, "lines":"139 141 143 145"},
        {"name":"for", "level":1, "count":1, "lines":"128"},
        {"name":"while", "level":2, "count":1, "lines":"122"},
        {"name":"procedure", "level":2, "count":5, "lines":"7 26 44 78 105"}
      ],
      "total":11
    },
    {
      "category": "Subroutine calls",
      "expressions":[
        {"name":"addhat", "level":0, "count":1, "lines":"68"},
        {"name":"bottle", "level":0, "count":7, "lines":"81 82 83 84 85 86 129"},
        {"name":"background", "level":0, "count":1, "lines":"125"},
        {"name":"face", "level":0, "count":1, "lines":"127"},
        {"name":"gunsight", "level":0, "count":1, "lines":"134"}
      ],
      "total":11
    }
  ],
  "pcode":[
    [112,17,1,1,112,0,123,112,6,2,123,4,112,12,124,112,29,138],
    [80,112,2,85,112,360,84,112,32,162,112,1,123,141,112,0,1,112,1000,1,1,1,145,144],
    [128,104],
    [133,1],
    [139,12,2],
    [120,12,2,120,12,1],
    [114,12,1,114,12,2,88],
    [112,65535,87],
    [112,0,112,15,23,89],
    [112,40,85],
    [112,0,112,50,23,90],
    [112,10,85],
    [112,0,112,40,23,90],
    [112,2,85],
    [112,20,23,112,90,89],
    [112,40,112,0,89],
    [112,0,112,20,23,89],
    [112,40,23,112,0,89],
    [112,8388736,87],
    [112,4,106],
    [112,20,112,35,89],
    [140,12,134,132],
    [133,2],
    [113,24,113,25,112,80,27,88],
    [112,4210752,87],
    [112,90,112,30,110],
    [112,2,85],
    [112,0,87],
    [112,90,112,30,109],
    [112,70,23,112,0,89],
    [112,4,85],
    [112,35,112,70,23,90],
    [112,70,112,0,90],
    [112,35,112,70,90],
    [112,4210752,87],
    [112,1,85],
    [112,4,106],
    [134,132],
    [133,3],
    [112,1,85],
    [112,16746649,87],
    [112,100,108],
    [112,16777215,87],
    [113,24,112,20,27,113,25,112,20,27,88],
    [112,10,108],
    [112,0,87],
    [112,4,108],
    [112,4,85],
    [112,0,112,22,23,89],
    [112,6697728,87],
    [112,15,112,15,90],
    [112,1,85],
    [112,16777215,87],
    [113,24,112,20,26,113,25,112,20,27,88],
    [112,10,108],
    [112,0,87],
    [112,4,108],
    [112,4,85],
    [112,0,112,22,23,89],
    [112,6697728,87],
    [112,15,23,112,15,90],
    [131,23],
    [113,24,113,25,112,13,26,88],
    [112,16711680,87],
    [112,10,108],
    [112,0,112,32,89],
    [112,30,112,6,110],
    [112,16777215,87],
    [112,20,112,4,110],
    [134,132],
    [133,4],
    [112,9596735,96],
    [112,100,112,500,131,4],
    [112,200,112,500,131,4],
    [112,450,112,500,131,4],
    [112,500,112,500,131,4],
    [112,565,112,500,131,4],
    [112,865,112,500,131,4],
    [112,6045747,87],
    [112,20,85],
    [112,0,112,125,88],
    [112,1000,112,0,90],
    [112,0,112,325,88],
    [112,1000,112,0,90],
    [112,0,112,525,88],
    [112,1000,112,0,90],
    [112,9849600,87],
    [112,30,85],
    [112,0,112,100,88],
    [112,1000,112,0,90],
    [112,0,112,300,88],
    [112,1000,112,0,90],
    [112,0,112,500,88],
    [112,1000,112,0,90],
    [134,132],
    [133,5],
    [112,0,87],
    [112,6,85],
    [112,-7,160,112,50,27,112,-8,160,88],
    [112,100,112,0,90],
    [112,-7,160,112,-8,160,112,50,27,88],
    [112,0,112,100,90],
    [134,132],
    [112,100,23,119,24],
    [112,625,119,25],
    [112,5,119,26],
    [112,0,119,27],
    [112,0,119,28],
    [112,0,171],
    [113,28,112,10,34,129,142],
    [112,0,146],
    [131,71],
    [113,24,113,25,88],
    [131,39],
    [112,1],
    [119,29,113,28],
    [113,29,37,129,120],
    [112,50,113,29,28,112,35,27,112,740,131,4],
    [113,29,4,128,116],
    [112,9849600,87],
    [112,272,85],
    [112,0,112,863,88],
    [112,1000,112,0,90],
    [131,96],
    [112,2,85],
    [112,-1,146],
    [113,24,113,26,26,119,24],
    [113,25,113,27,26,119,25],
    [113,24,112,1100,35,129,131],
    [112,100,23,119,24],
    [113,24,112,100,23,34,129,133],
    [112,1100,119,24],
    [113,25,112,100,34,113,25,112,625,35,18,129,135],
    [113,27,112,1,23,28,119,27],
    [112,-1,160,112,0,35,112,-7,160,113,24,27,112,-7,160,113,24,27,28,112,-8,160,113,25,27,112,-8,160,113,25,27,28,26,112,10000,34,17,129,141],
    [112,100,23,119,24],
    [112,5,7,112,2,26,119,26],
    [112,9,7,112,4,27,119,27],
    [112,550,7,112,50,26,119,25],
    [116,28,1,122,4,2,123],
    [128,110],
    [112,0,96],
    [112,200,112,450,88],
    [112,2263842,87],
    [118,14,32,32,87,101,108,108,32,100,111,110,101,33,32,32,112,4,112,75,168,142],
    [130]
  ]
}
